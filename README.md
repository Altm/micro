# Система управления каталогом и остатками

Это комплексное решение для управления каталогом товаров и остатками в многоточечной среде с поддержкой сложной бизнес-логики, включая вина, составные продукты и ненадёжные клиентские терминалы.

## Архитектура

Проект состоит из двух основных частей:

- **Backend** (`/backend`): API на Python + FastAPI с системой аутентификации, авторизации и учёта остатков
- **Frontend** (`/frontend`): Vue3 приложение для управления товарами и остатками

## Технологии

- **Backend**: Python, FastAPI, SQLAlchemy, PostgreSQL
- **Frontend**: Vue 3, Vue Router, Axios
- **Контейнеризация**: Docker, Docker Compose
- **Аутентификация**: JWT для пользователей, HMAC-SHA256 для терминалов
- **Аудит**: Полное логирование всех операций

## Запуск проекта

### Для разработки:

Для запуска проекта в режиме разработки используйте Docker Compose:

```bash
docker-compose up --build
```

После запуска:
- Backend будет доступен по адресу: http://localhost:8000
- Frontend будет доступен по адресу: http://localhost:8080
- База данных: localhost:5432 (имя БД: inventory_db)

### Для продакшена:

Для запуска в продакшен-режиме:

1. Скопируйте `.env.example` в `.env` и настройте переменные окружения:
```bash
cp .env.example .env
# Затем отредактируйте .env файл с вашими значениями
```

2. Запустите проект с помощью:
```bash
docker-compose -f docker-compose.prod.yml up -d --build
```

## Настройка

Перед запуском необходимо настроить переменные окружения в файле `.env`:

- `SECRET_KEY`: Секретный ключ для подписи JWT токенов (должен быть длинной случайной строкой)
- `POSTGRES_PASSWORD`: Пароль для базы данных
- `SUPERUSER_EMAIL` и `SUPERUSER_PASSWORD`: Данные для суперпользователя

## Особенности системы

- Гибкая модель товаров с поддержкой составных продуктов
- Надежный учет остатков с идемпотентной сверкой
- Поддержка многоточечности (склады, бары, рестораны)
- Полная аудитория всех операций
- Многоуровневая RBAC система с суперадминистратором
- Чистая архитектура с соблюдением принципов SOLID